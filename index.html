<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pancake Clicker</title>
    <style>
        :root {
            --primary-color: #FF6D00;
            --secondary-color: #FFAB40;
            --background-color: #FFF8E1;
            --text-color: #5D4037;
            --highlight-color: #FF3D00;
            --upgrade-color: #00C853;
            --achievement-color: #2962FF;
            --prestige-color: #AA00FF;
            --settings-color: #616161;
            --panel-bg: rgba(255, 255, 255, 0.9);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --offline-color: #FFD600;
        }
        
        .dark-mode {
            --background-color: #121212;
            --panel-bg: rgba(30, 30, 30, 0.9);
            --text-color: #E0E0E0;
            --primary-color: #FF9100;
            --secondary-color: #FFC270;
            --highlight-color: #FF7043;
            --upgrade-color: #00E676;
            --achievement-color: #448AFF;
            --prestige-color: #D500F9;
            --settings-color: #9E9E9E;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --offline-color: #FFEA00;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--panel-bg);
            padding: 12px 20px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stats {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .pancake-count {
            font-size: 24px;
            font-weight: bold;
            color: var(--highlight-color);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .pps {
            font-size: 14px;
            color: var(--text-color);
            opacity: 0.8;
        }
        
        .clicker-section {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px 0;
            background-color: var(--panel-bg);
            border-radius: 15px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .clicker-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .clicker {
            position: relative;
            margin: 15px 0;
            transition: transform 0.2s;
        }
        
        .pancake {
            font-size: 100px;
            cursor: pointer;
            transition: all 0.1s;
            user-select: none;
        }
        
        .pancake:hover {
            transform: scale(1.05);
        }
        
        .pancake:active {
            transform: scale(0.95);
        }
        
        .click-effect {
            position: absolute;
            font-size: 24px;
            color: var(--highlight-color);
            font-weight: bold;
            animation: float-up 1s forwards;
            pointer-events: none;
            user-select: none;
            z-index: 10;
        }
        
        @keyframes float-up {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-60px) scale(0.5);
                opacity: 0;
            }
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: -10px;
            gap: 5px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 10px 20px;
            background-color: var(--panel-bg);
            border: none;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s;
            color: var(--text-color);
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-bottom: none;
            min-width: 100px;
        }
        
        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .tab.active {
            color: white;
        }
        
        .tab.active::before {
            opacity: 1;
        }
        
        .tab:hover:not(.active) {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .tab-content {
            display: none;
            background-color: var(--panel-bg);
            padding: 20px;
            border-radius: 0 0 15px 15px;
            min-height: 300px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-top: none;
            overflow-y: auto;
            max-height: 50vh;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .upgrades-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }
        
        .upgrade {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .upgrade::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--upgrade-color), #B2FF59);
        }
        
        .upgrade:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        
        .upgrade-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }
        
        .upgrade-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
            color: var(--text-color);
        }
        
        .upgrade-description {
            font-size: 13px;
            margin-bottom: 12px;
            text-align: center;
            color: rgba(var(--text-color), 0.8);
        }
        
        .upgrade-stats {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
        }
        
        .upgrade-level {
            color: var(--primary-color);
        }
        
        .upgrade-cost {
            font-weight: bold;
            color: var(--upgrade-color);
        }
        
        .upgrade-pps {
            color: var(--highlight-color);
        }
        
        .upgrade-button {
            width: 100%;
            background: linear-gradient(135deg, var(--upgrade-color), #00E676);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s;
            margin-top: 8px;
        }
        
        .upgrade-button:disabled {
            background: rgba(224, 224, 224, 0.2);
            color: rgba(158, 158, 158, 0.5);
            cursor: not-allowed;
        }
        
        .upgrade-button:hover:not(:disabled) {
            transform: translateY(-2px);
        }
        
        .progress-container {
            width: 100%;
            margin-top: 12px;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 11px;
            color: rgba(var(--text-color), 0.6);
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: rgba(224, 224, 224, 0.2);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.3s;
        }
        
        .achievements-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 15px;
        }
        
        .achievement {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            opacity: 0.6;
            position: relative;
            overflow: hidden;
        }
        
        .achievement::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--achievement-color), #82B1FF);
        }
        
        .achievement.unlocked {
            opacity: 1;
            border: 1px solid var(--achievement-color);
        }
        
        .achievement.unlocked::before {
            content: '‚úì';
            position: absolute;
            top: 8px;
            right: 8px;
            color: var(--achievement-color);
            font-weight: bold;
            font-size: 16px;
        }
        
        .achievement-icon {
            font-size: 40px;
            margin-bottom: 10px;
            color: var(--achievement-color);
        }
        
        .achievement-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
            color: var(--text-color);
        }
        
        .achievement-description {
            font-size: 13px;
            text-align: center;
            color: rgba(var(--text-color), 0.8);
        }
        
        .prestige-section {
            background: linear-gradient(135deg, rgba(170, 0, 255, 0.1), rgba(224, 64, 251, 0.1));
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-top: 15px;
            border: 1px dashed var(--prestige-color);
        }
        
        .prestige-title {
            font-size: 20px;
            color: var(--prestige-color);
            margin-bottom: 12px;
        }
        
        .prestige-description {
            margin-bottom: 15px;
            line-height: 1.6;
            font-size: 14px;
        }
        
        .prestige-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .prestige-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 100px;
        }
        
        .prestige-stat-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--prestige-color);
        }
        
        .prestige-stat-label {
            font-size: 13px;
            color: rgba(var(--text-color), 0.8);
        }
        
        .prestige-button {
            background: linear-gradient(135deg, var(--prestige-color), #E040FB);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .prestige-button:hover:not(:disabled) {
            transform: translateY(-3px);
        }
        
        .prestige-button:disabled {
            background: rgba(224, 224, 224, 0.2);
            color: rgba(158, 158, 158, 0.5);
            cursor: not-allowed;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--achievement-color), #82B1FF);
            color: white;
            padding: 15px;
            border-radius: 12px;
            transform: translateX(200%);
            transition: transform 0.4s;
            z-index: 1000;
            max-width: 300px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification-icon {
            font-size: 30px;
            flex-shrink: 0;
        }
        
        .notification-content {
            flex-grow: 1;
        }
        
        .notification-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .notification-description {
            font-size: 13px;
            opacity: 0.9;
        }
        
        .footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            margin-top: 15px;
            border-top: 1px solid rgba(var(--text-color), 0.1);
            font-size: 13px;
            color: rgba(var(--text-color), 0.7);
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .version-info {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .settings-button {
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
            color: var(--settings-color);
            transition: transform 0.3s;
            padding: 5px;
        }
        
        .settings-button:hover {
            transform: rotate(30deg);
        }
        
        .settings-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 350px;
            height: 100vh;
            background-color: var(--panel-bg);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
            padding: 25px;
            transition: right 0.4s ease;
            z-index: 1001;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
        }
        
        .settings-panel.open {
            right: 0;
        }
        
        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .settings-title {
            font-size: 22px;
            color: var(--settings-color);
        }
        
        .close-settings {
            background: none;
            border: none;
            font-size: 26px;
            cursor: pointer;
            color: var(--settings-color);
            padding: 5px;
        }
        
        .settings-group {
            margin-bottom: 20px;
        }
        
        .settings-group-title {
            font-size: 16px;
            margin-bottom: 12px;
            color: var(--settings-color);
            padding-bottom: 5px;
            border-bottom: 1px solid rgba(var(--text-color), 0.1);
        }
        
        .setting {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .setting-label {
            font-size: 14px;
        }
        
        .setting-control {
            padding: 8px 12px;
            border-radius: 5px;
            border: 1px solid rgba(var(--text-color), 0.2);
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--upgrade-color);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .credits {
            margin-top: 25px;
            font-size: 12px;
            text-align: center;
            color: rgba(var(--text-color), 0.6);
        }
        
        .save-buttons {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .game-button {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
        }
        
        .save-button {
            background: linear-gradient(135deg, var(--upgrade-color), #00E676);
            color: white;
        }
        
        .reset-button {
            background: linear-gradient(135deg, var(--highlight-color), #FF6E40);
            color: white;
        }
        
        .game-button:hover {
            transform: translateY(-2px);
        }
        
        .game-button:active {
            transform: translateY(0);
        }
        
        .level-up {
            animation: level-up 0.5s;
        }
        
        @keyframes level-up {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .offline-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--offline-color), #FFEE58);
            color: #5D4037;
            padding: 15px 20px;
            border-radius: 12px;
            z-index: 1000;
            max-width: 90%;
            text-align: center;
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .offline-notification.show {
            display: block;
            animation: slideDown 0.5s forwards;
        }
        
        @keyframes slideDown {
            from { top: -100px; opacity: 0; }
            to { top: 20px; opacity: 1; }
        }
        
        .offline-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .offline-amount {
            font-size: 18px;
            font-weight: bold;
            color: var(--highlight-color);
        }
        
        .offline-time {
            font-size: 13px;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 12px;
                padding: 15px;
            }
            
            .save-buttons {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .upgrades-container, .achievements-container {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1 0 100px;
                padding: 8px 12px;
                font-size: 13px;
            }
            
            .pancake {
                font-size: 80px;
            }
            
            .click-effect {
                font-size: 20px;
            }
            
            .prestige-stat {
                min-width: 80px;
            }
            
            .prestige-button {
                padding: 10px 20px;
                font-size: 14px;
            }
            
            .footer {
                flex-direction: column;
                text-align: center;
                gap: 8px;
            }
            
            .version-info {
                justify-content: center;
            }
            
            .tab-content {
                padding: 15px;
                max-height: 60vh;
            }
            
            .settings-panel {
                max-width: 100%;
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .pancake {
                font-size: 70px;
            }
            
            .upgrade, .achievement {
                padding: 12px;
            }
            
            .prestige-stats {
                flex-direction: column;
                align-items: center;
            }
            
            .prestige-stat {
                width: 100%;
            }
            
            .notification {
                max-width: 90%;
                right: auto;
                left: 50%;
                transform: translateX(-50%) translateX(200%);
            }
            
            .notification.show {
                transform: translateX(-50%) translateX(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="stats">
                <div class="pancake-count">ü•û <span id="pancakes">0</span></div>
                <div class="pps">–í —Å–µ–∫—É–Ω–¥—É: <span id="pps">0</span></div>
            </div>
            <div class="save-buttons">
                <button class="game-button save-button" id="save">
                    <span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button class="game-button reset-button" id="reset">
                    <span>üîÑ</span> –°–±—Ä–æ—Å–∏—Ç—å
                </button>
                <button class="settings-button" id="settings-button">‚öôÔ∏è</button>
            </div>
        </div>
        
        <div class="offline-notification" id="offline-notification">
            <div class="offline-title">–í—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ –ø–æ–∫–∞ –≤–∞—Å –Ω–µ –±—ã–ª–æ:</div>
            <div class="offline-amount" id="offline-amount">0 ü•û</div>
            <div class="offline-time" id="offline-time"></div>
        </div>
        
        <div class="clicker-section">
            <h2 class="clicker-title">–ö–ª–∏–∫–∞–π –Ω–∞ –±–ª–∏–Ω—á–∏–∫!</h2>
            <div class="clicker">
                <div class="pancake" id="clicker">ü•û</div>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" data-tab="upgrades">üç≥ –£–ª—É—á—à–µ–Ω–∏—è</button>
            <button class="tab" data-tab="achievements">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
            <button class="tab" data-tab="prestige">‚ú® –ü—Ä–µ—Å—Ç–∏–∂</button>
        </div>
        
        <div class="tab-content active" id="upgrades-tab">
            <div class="upgrades-container" id="upgrades-container">
                <!-- –£–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <div class="tab-content" id="achievements-tab">
            <div class="achievements-container" id="achievements-container">
                <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <div class="tab-content" id="prestige-tab">
            <div class="prestige-section">
                <h2 class="prestige-title">–°–∏—Å—Ç–µ–º–∞ –ü—Ä–µ—Å—Ç–∏–∂–∞</h2>
                <p class="prestige-description">
                    –ö–æ–≥–¥–∞ –≤—ã –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç–µ 1 –º–∏–ª–ª–∏–æ–Ω–∞ –±–ª–∏–Ω—á–∏–∫–æ–≤, –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø—Ä–µ—Å—Ç–∏–∂–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, 
                    –Ω–æ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –º–Ω–æ–∂–∏—Ç–µ–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–π —É–≤–µ–ª–∏—á–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –≤—Å–µ—Ö –≤–∞—à–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π!
                </p>
                
                <div class="prestige-stats">
                    <div class="prestige-stat">
                        <div class="prestige-stat-value" id="prestige-multiplier">1x</div>
                        <div class="prestige-stat-label">–¢–µ–∫—É—â–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å</div>
                    </div>
                    <div class="prestige-stat">
                        <div class="prestige-stat-value" id="prestige-level">0</div>
                        <div class="prestige-stat-label">–£—Ä–æ–≤–µ–Ω—å –ø—Ä–µ—Å—Ç–∏–∂–∞</div>
                    </div>
                    <div class="prestige-stat">
                        <div class="prestige-stat-value" id="prestige-remaining">1,000,000</div>
                        <div class="prestige-stat-label">–û—Å—Ç–∞–ª–æ—Å—å –¥–æ –ø—Ä–µ—Å—Ç–∏–∂–∞</div>
                    </div>
                </div>
                
                <button class="prestige-button" id="prestige-button" disabled>–ü—Ä–µ—Å—Ç–∏–∂</button>
            </div>
        </div>
        
        <div class="footer">
            <div class="copyright">¬© Ahb_Ib 2025</div>
            <div class="version-info">
                <span>–í–µ—Ä—Å–∏—è: <span id="version">1.1.1</span></span>
                <span>|</span>
                <span id="save-time">–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: –Ω–∏–∫–æ–≥–¥–∞</span>
            </div>
        </div>
        
        <div class="notification" id="notification">
            <div class="notification-icon">üéâ</div>
            <div class="notification-content">
                <div class="notification-title" id="notification-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!</div>
                <div class="notification-description" id="notification-description"></div>
            </div>
        </div>
        
        <div class="settings-panel" id="settings-panel">
            <div class="settings-header">
                <h2 class="settings-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <button class="close-settings" id="close-settings">√ó</button>
            </div>
            
            <div class="settings-group">
                <h3 class="settings-group-title">–ì–µ–π–º–ø–ª–µ–π</h3>
                <div class="setting">
                    <label class="setting-label">–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</label>
                    <label class="switch">
                        <input type="checkbox" id="autosave-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting">
                    <label class="setting-label">–≠—Ñ—Ñ–µ–∫—Ç—ã –∫–ª–∏–∫–æ–≤</label>
                    <label class="switch">
                        <input type="checkbox" id="click-effects-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting">
                    <label class="setting-label">–ê–Ω–∏–º–∞—Ü–∏–∏</label>
                    <label class="switch">
                        <input type="checkbox" id="animations-toggle" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
            
            <div class="settings-group">
                <h3 class="settings-group-title">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
                <div class="setting">
                    <label class="setting-label">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</label>
                    <label class="switch">
                        <input type="checkbox" id="dark-mode-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting">
                    <label class="setting-label">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label>
                    <select class="setting-control" id="font-size-select">
                        <option value="small">–ú–∞–ª–µ–Ω—å–∫–∏–π</option>
                        <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="large">–ë–æ–ª—å—à–æ–π</option>
                    </select>
                </div>
            </div>
            
            <div class="credits">
                <p>Pancake Clicker</p>
                <p>–í–µ—Ä—Å–∏—è 1.1.1</p>
                <p>¬© Ahb_Ib 2025</p>
            </div>
        </div>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        var pancakes = 0;
        var pps = 0;
        var totalPancakes = 0;
        var totalClicks = 0;
        var prestigeLevel = 0;
        var prestigeMultiplier = 1;
        var lastSaveTime = null;
        var lastPlayTime = Date.now();
        var maxOfflineTime = 24 * 60 * 60 * 1000;
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        var settings = {
            autosave: true,
            clickEffects: true,
            animations: true,
            darkMode: false,
            fontSize: 'medium'
        };
        
        // –£–ª—É—á—à–µ–Ω–∏—è
        var upgrades = [
            { 
                id: 1, 
                name: "–ë–∞–±—É—à–∫–∞", 
                icon: "üëµ", 
                description: "–ë–∞–±—É—à–∫–∞ –ø–µ—á–µ—Ç –±–ª–∏–Ω—á–∏–∫–∏ —Å –ª—é–±–æ–≤—å—é", 
                baseCost: 10, 
                basePps: 0.1, 
                maxLevel: 200,
                level: 0,
                cost: 10,
                currentPps: 0
            },
            { 
                id: 2, 
                name: "–ö—É—Ö–Ω—è", 
                icon: "üè†", 
                description: "–ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –≥–æ—Ç–æ–≤–∫–∏ –±–ª–∏–Ω—á–∏–∫–æ–≤", 
                baseCost: 50, 
                basePps: 0.5, 
                maxLevel: 200,
                level: 0,
                cost: 50,
                currentPps: 0
            },
            { 
                id: 3, 
                name: "–ü–æ–≤–∞—Ä", 
                icon: "üë®‚Äçüç≥", 
                description: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–≤–∞—Ä –¥–ª—è –∏–¥–µ–∞–ª—å–Ω—ã—Ö –±–ª–∏–Ω—á–∏–∫–æ–≤", 
                baseCost: 100, 
                basePps: 1, 
                maxLevel: 200,
                level: 0,
                cost: 100,
                currentPps: 0
            },
            { 
                id: 4, 
                name: "–†–µ—Å—Ç–æ—Ä–∞–Ω", 
                icon: "üçΩÔ∏è", 
                description: "–ë–ª–∏–Ω–Ω–∞—è —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏", 
                baseCost: 500, 
                basePps: 5, 
                maxLevel: 200,
                level: 0,
                cost: 500,
                currentPps: 0
            },
            { 
                id: 5, 
                name: "–§–µ—Ä–º–∞", 
                icon: "üåæ", 
                description: "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –º—É–∫–∏ –∏ —è–∏—Ü", 
                baseCost: 1000, 
                basePps: 10, 
                maxLevel: 200,
                level: 0,
                cost: 1000,
                currentPps: 0
            },
            { 
                id: 6, 
                name: "–§–∞–±—Ä–∏–∫–∞", 
                icon: "üè≠", 
                description: "–ú–∞—Å—Å–æ–≤–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –±–ª–∏–Ω—á–∏–∫–æ–≤", 
                baseCost: 5000, 
                basePps: 50, 
                maxLevel: 200,
                level: 0,
                cost: 5000,
                currentPps: 0
            },
            { 
                id: 7, 
                name: "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è", 
                icon: "üî¨", 
                description: "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –±–ª–∏–Ω—á–∏–∫–æ–≤", 
                baseCost: 10000, 
                basePps: 100, 
                maxLevel: 200,
                level: 0,
                cost: 10000,
                currentPps: 0
            },
            { 
                id: 8, 
                name: "–ó–∞–≤–æ–¥", 
                icon: "üè¢", 
                description: "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –±–ª–∏–Ω—á–∏–∫–æ–≤", 
                baseCost: 50000, 
                basePps: 500, 
                maxLevel: 200,
                level: 0,
                cost: 50000,
                currentPps: 0
            },
            { 
                id: 9, 
                name: "–ë–ª–∏–Ω–Ω–∞—è –ò–º–ø–µ—Ä–∏—è", 
                icon: "üëë", 
                description: "–ú–∏—Ä–æ–≤–∞—è —Å–µ—Ç—å –±–ª–∏–Ω–Ω—ã—Ö", 
                baseCost: 100000, 
                basePps: 1000, 
                maxLevel: 200,
                level: 0,
                cost: 100000,
                currentPps: 0
            },
            { 
                id: 10, 
                name: "–ë–ª–∏–Ω—á–∏–∫–∏ –≤ –ö–æ—Å–º–æ—Å–µ", 
                icon: "üöÄ", 
                description: "–ü—Ä–æ–¥–∞–∂–∞ –±–ª–∏–Ω—á–∏–∫–æ–≤ –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–ª–∞–Ω–µ—Ç–∞—Ö", 
                baseCost: 1000000, 
                basePps: 10000, 
                maxLevel: 200,
                level: 0,
                cost: 1000000,
                currentPps: 0
            }
        ];
        
        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        var achievements = [
            { id: 1, name: "–ü–µ—Ä–≤—ã–π –±–ª–∏–Ω", icon: "ü•û", description: "–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –±–ª–∏–Ω—á–∏–∫", condition: function() { return totalPancakes >= 1; }, unlocked: false },
            { id: 2, name: "–ë–ª–∏–Ω–Ω—ã–π –ø–æ–≤–∞—Ä", icon: "üë®‚Äçüç≥", description: "–°–æ–∑–¥–∞–π—Ç–µ 100 –±–ª–∏–Ω—á–∏–∫–æ–≤", condition: function() { return totalPancakes >= 100; }, unlocked: false },
            { id: 3, name: "–ë–ª–∏–Ω–Ω—ã–π –º–∞–≥–Ω–∞—Ç", icon: "üí∞", description: "–°–æ–∑–¥–∞–π—Ç–µ 1,000 –±–ª–∏–Ω—á–∏–∫–æ–≤", condition: function() { return totalPancakes >= 1000; }, unlocked: false },
            { id: 4, name: "–ë–ª–∏–Ω–Ω—ã–π –∫–æ—Ä–æ–ª—å", icon: "üëë", description: "–°–æ–∑–¥–∞–π—Ç–µ 10,000 –±–ª–∏–Ω—á–∏–∫–æ–≤", condition: function() { return totalPancakes >= 10000; }, unlocked: false },
            { id: 5, name: "–ë–ª–∏–Ω–Ω—ã–π –±–æ–≥", icon: "üåü", description: "–°–æ–∑–¥–∞–π—Ç–µ 100,000 –±–ª–∏–Ω—á–∏–∫–æ–≤", condition: function() { return totalPancakes >= 100000; }, unlocked: false },
            { id: 6, name: "–ö–ª–∏–∫–∞—é—â–∏–π –º–∞–Ω—å—è–∫", icon: "üñ±Ô∏è", description: "–°–¥–µ–ª–∞–π—Ç–µ 100 –∫–ª–∏–∫–æ–≤", condition: function() { return totalClicks >= 100; }, unlocked: false },
            { id: 7, name: "–ö–ª–∏–∫–∞—é—â–∏–π –º–∞—Å—Ç–µ—Ä", icon: "üíª", description: "–°–¥–µ–ª–∞–π—Ç–µ 500 –∫–ª–∏–∫–æ–≤", condition: function() { return totalClicks >= 500; }, unlocked: false },
            { id: 8, name: "–ö–ª–∏–∫–∞—é—â–∏–π –±–æ–≥", icon: "‚ö°", description: "–°–¥–µ–ª–∞–π—Ç–µ 1,000 –∫–ª–∏–∫–æ–≤", condition: function() { return totalClicks >= 1000; }, unlocked: false },
            { id: 9, name: "–£–ª—É—á—à–∞—Ç–µ–ª—å", icon: "üîß", description: "–ö—É–ø–∏—Ç–µ 10 —É–ª—É—á—à–µ–Ω–∏–π", condition: function() { 
                var total = 0;
                for (var i = 0; i < upgrades.length; i++) {
                    total += upgrades[i].level;
                }
                return total >= 10; 
            }, unlocked: false },
            { id: 10, name: "–ú–∞—Å—Ç–µ—Ä —É–ª—É—á—à–µ–Ω–∏–π", icon: "üî®", description: "–ö—É–ø–∏—Ç–µ 50 —É–ª—É—á—à–µ–Ω–∏–π", condition: function() { 
                var total = 0;
                for (var i = 0; i < upgrades.length; i++) {
                    total += upgrades[i].level;
                }
                return total >= 50; 
            }, unlocked: false },
            { id: 11, name: "–õ–µ–≥–µ–Ω–¥–∞ —É–ª—É—á—à–µ–Ω–∏–π", icon: "üèÜ", description: "–ö—É–ø–∏—Ç–µ 100 —É–ª—É—á—à–µ–Ω–∏–π", condition: function() { 
                var total = 0;
                for (var i = 0; i < upgrades.length; i++) {
                    total += upgrades[i].level;
                }
                return total >= 100; 
            }, unlocked: false },
            { id: 12, name: "–ü–µ—Ä–≤—ã–π –ø—Ä–µ—Å—Ç–∏–∂", icon: "‚ú®", description: "–ü—Ä–æ–π–¥–∏—Ç–µ –ø—Ä–µ—Å—Ç–∏–∂ –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑", condition: function() { return prestigeLevel >= 1; }, unlocked: false },
            { id: 13, name: "–í–µ—Ç–µ—Ä–∞–Ω–∞ –ø—Ä–µ—Å—Ç–∏–∂–∞", icon: "‚≠ê", description: "–ü—Ä–æ–π–¥–∏—Ç–µ –ø—Ä–µ—Å—Ç–∏–∂ 5 —Ä–∞–∑", condition: function() { return prestigeLevel >= 5; }, unlocked: false },
            { id: 14, name: "–ú–∞—Å—Ç–µ—Ä –ø—Ä–µ—Å—Ç–∏–∂–∞", icon: "üí´", description: "–ü—Ä–æ–π–¥–∏—Ç–µ –ø—Ä–µ—Å—Ç–∏–∂ 10 —Ä–∞–∑", condition: function() { return prestigeLevel >= 10; }, unlocked: false }
        ];
        
        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        var pancakeDisplay = document.getElementById('pancakes');
        var ppsDisplay = document.getElementById('pps');
        var clicker = document.getElementById('clicker');
        var upgradesContainer = document.getElementById('upgrades-container');
        var achievementsContainer = document.getElementById('achievements-container');
        var prestigeButton = document.getElementById('prestige-button');
        var prestigeMultiplierDisplay = document.getElementById('prestige-multiplier');
        var prestigeLevelDisplay = document.getElementById('prestige-level');
        var prestigeRemainingDisplay = document.getElementById('prestige-remaining');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            loadSettings();
            loadGame();
            renderUpgrades();
            renderAchievements();
            applySettings();
            updateUI();
            
            // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
            setInterval(gameLoop, 100);
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            setInterval(function() {
                if (settings.autosave) {
                    saveGame(false);
                }
            }, 30000);
        }
        
        // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
        function gameLoop() {
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–∏–Ω—á–∏–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
            var totalPps = calculateTotalPps();
            if (totalPps > 0) {
                var earned = totalPps / 10;
                pancakes += earned;
                totalPancakes += earned;
                pps = totalPps;
                ppsDisplay.textContent = formatNumber(pps);
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            checkAchievements();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
            updatePancakeDisplay();
            updatePrestigeButton();
            updateUpgradeButtons();
        }
        
        // –†–∞—Å—á–µ—Ç –æ–±—â–µ–≥–æ PPS
        function calculateTotalPps() {
            var total = 0;
            for (var i = 0; i < upgrades.length; i++) {
                total += upgrades[i].currentPps * prestigeMultiplier;
            }
            return total;
        }
        
        // –†–µ–Ω–¥–µ—Ä —É–ª—É—á—à–µ–Ω–∏–π
        function renderUpgrades() {
            upgradesContainer.innerHTML = '';
            
            for (var i = 0; i < upgrades.length; i++) {
                var upgrade = upgrades[i];
                var progressPercent = (upgrade.level / upgrade.maxLevel) * 100;
                
                var upgradeElement = document.createElement('div');
                upgradeElement.className = 'upgrade';
                upgradeElement.innerHTML = [
                    '<div class="upgrade-icon">' + upgrade.icon + '</div>',
                    '<div class="upgrade-name">' + upgrade.name + '</div>',
                    '<div class="upgrade-description">' + upgrade.description + '</div>',
                    '<div class="upgrade-stats">',
                    '<div class="upgrade-level">–£—Ä. ' + upgrade.level + '/' + upgrade.maxLevel + '</div>',
                    '<div class="upgrade-pps">' + formatNumber(upgrade.currentPps * prestigeMultiplier) + '/—Å–µ–∫</div>',
                    '</div>',
                    '<div class="upgrade-cost">' + formatNumber(upgrade.cost) + ' ü•û</div>',
                    '<button class="upgrade-button" ' + (pancakes < upgrade.cost || upgrade.level >= upgrade.maxLevel ? 'disabled' : '') + '>',
                    (upgrade.level >= upgrade.maxLevel ? '–ú–∞–∫—Å. —É—Ä–æ–≤–µ–Ω—å' : '–£–ª—É—á—à–∏—Ç—å'),
                    '</button>',
                    '<div class="progress-container">',
                    '<div class="progress-label">',
                    '<span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>',
                    '<span>' + progressPercent.toFixed(1) + '%</span>',
                    '</div>',
                    '<div class="progress-bar">',
                    '<div class="progress-fill" style="width: ' + progressPercent + '%"></div>',
                    '</div>',
                    '</div>'
                ].join('');
                
                var button = upgradeElement.querySelector('.upgrade-button');
                button.addEventListener('click', (function(upgradeId) {
                    return function() { buyUpgrade(upgradeId); };
                })(upgrade.id));
                
                upgradesContainer.appendChild(upgradeElement);
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π
        function updateUpgradeButtons() {
            var buttons = document.querySelectorAll('.upgrade-button');
            for (var i = 0; i < buttons.length; i++) {
                var upgrade = upgrades[i];
                if (upgrade) {
                    buttons[i].disabled = pancakes < upgrade.cost || upgrade.level >= upgrade.maxLevel;
                }
            }
        }
        
        // –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è
        function buyUpgrade(upgradeId) {
            var upgrade = null;
            for (var i = 0; i < upgrades.length; i++) {
                if (upgrades[i].id === upgradeId) {
                    upgrade = upgrades[i];
                    break;
                }
            }
            
            if (!upgrade) return;
            
            if (pancakes >= upgrade.cost && upgrade.level < upgrade.maxLevel) {
                pancakes -= upgrade.cost;
                upgrade.level++;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ PPS
                upgrade.cost = Math.floor(upgrade.baseCost * Math.pow(1.15, upgrade.level));
                upgrade.currentPps = upgrade.basePps * upgrade.level;
                
                // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                updatePancakeDisplay();
                renderUpgrades();
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                if (settings.animations) {
                    var upgradeElements = document.querySelectorAll('.upgrade');
                    if (upgradeElements[upgradeId - 1]) {
                        upgradeElements[upgradeId - 1].classList.add('level-up');
                        setTimeout(function() {
                            upgradeElements[upgradeId - 1].classList.remove('level-up');
                        }, 500);
                    }
                }
                
                if (settings.autosave) saveGame(false);
            }
        }
        
        // –†–µ–Ω–¥–µ—Ä –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function renderAchievements() {
            achievementsContainer.innerHTML = '';
            
            for (var i = 0; i < achievements.length; i++) {
                var achievement = achievements[i];
                var achievementElement = document.createElement('div');
                achievementElement.className = 'achievement ' + (achievement.unlocked ? 'unlocked' : '');
                achievementElement.innerHTML = [
                    '<div class="achievement-icon">' + achievement.icon + '</div>',
                    '<div class="achievement-name">' + achievement.name + '</div>',
                    '<div class="achievement-description">' + achievement.description + '</div>'
                ].join('');
                achievementsContainer.appendChild(achievementElement);
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function checkAchievements() {
            for (var i = 0; i < achievements.length; i++) {
                var achievement = achievements[i];
                if (!achievement.unlocked && achievement.condition()) {
                    achievement.unlocked = true;
                    showNotification('–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!', achievement.name);
                    renderAchievements();
                    if (settings.autosave) saveGame(false);
                }
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
        function updateUI() {
            updatePancakeDisplay();
            updatePrestigeButton();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–ª–∏–Ω—á–∏–∫–æ–≤
        function updatePancakeDisplay() {
            pancakeDisplay.textContent = formatNumber(pancakes);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–µ—Å—Ç–∏–∂–∞
        function updatePrestigeButton() {
            var requiredForPrestige = 1000000;
            var remaining = Math.max(0, requiredForPrestige - pancakes);
            
            prestigeMultiplierDisplay.textContent = (1 + prestigeLevel * 0.5).toFixed(1) + 'x';
            prestigeLevelDisplay.textContent = prestigeLevel;
            prestigeRemainingDisplay.textContent = formatNumber(remaining);
            
            if (pancakes >= requiredForPrestige) {
                prestigeButton.disabled = false;
                prestigeButton.textContent = '–ü—Ä–µ—Å—Ç–∏–∂ (+' + (prestigeLevel + 1) + ' —É—Ä–æ–≤–µ–Ω—å)';
            } else {
                prestigeButton.disabled = true;
                prestigeButton.textContent = '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–ª–∏–Ω—á–∏–∫–æ–≤';
            }
        }
        
        // –ü—Ä–µ—Å—Ç–∏–∂
        function prestige() {
            if (pancakes >= 1000000) {
                if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–µ—Å—Ç–∏–∂–∏—Ä–æ–≤–∞—Ç—å—Å—è? –í—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –≤—Å–µ –±–ª–∏–Ω—á–∏–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è, –Ω–æ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞.")) {
                    prestigeLevel++;
                    prestigeMultiplier = 1 + prestigeLevel * 0.5;
                    
                    // –°–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                    pancakes = 0;
                    totalPancakes = 0;
                    totalClicks = 0;
                    pps = 0;
                    
                    // –°–±—Ä–æ—Å —É–ª—É—á—à–µ–Ω–∏–π
                    for (var i = 0; i < upgrades.length; i++) {
                        upgrades[i].level = 0;
                        upgrades[i].cost = upgrades[i].baseCost;
                        upgrades[i].currentPps = 0;
                    }
                    
                    // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                    updateUI();
                    renderUpgrades();
                    checkAchievements();
                    
                    if (settings.autosave) saveGame(false);
                    
                    showNotification('–ü—Ä–µ—Å—Ç–∏–∂ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!', '–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –º–Ω–æ–∂–∏—Ç–µ–ª—å x' + prestigeMultiplier);
                }
            }
        }
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
        function formatNumber(num) {
            if (num >= 1000000000) return (num / 1000000000).toFixed(2) + 'B';
            if (num >= 1000000) return (num / 1000000).toFixed(2) + 'M';
            if (num >= 10000) return (num / 1000).toFixed(1) + 'K';
            if (num >= 1000) return (num / 1000).toFixed(2) + 'K';
            if (num > 0 && num < 100) return num.toFixed(1);
            return Math.floor(num).toString();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(title, description) {
            if (!settings.animations) return;
            
            var notification = document.getElementById('notification');
            var notificationTitle = document.getElementById('notification-title');
            var notificationDescription = document.getElementById('notification-description');
            
            notificationTitle.textContent = title;
            notificationDescription.textContent = description;
            
            notification.classList.add('show');
            setTimeout(function() {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã
        function saveGame(showNotification) {
            if (showNotification === undefined) showNotification = true;
            
            var gameData = {
                pancakes: pancakes,
                pps: pps,
                totalPancakes: totalPancakes,
                totalClicks: totalClicks,
                prestigeLevel: prestigeLevel,
                prestigeMultiplier: prestigeMultiplier,
                upgrades: [],
                achievements: [],
                settings: settings,
                lastSaveTime: Date.now()
            };
            
            for (var i = 0; i < upgrades.length; i++) {
                gameData.upgrades.push({
                    id: upgrades[i].id,
                    level: upgrades[i].level,
                    cost: upgrades[i].cost,
                    currentPps: upgrades[i].currentPps
                });
            }
            
            for (var j = 0; j < achievements.length; j++) {
                gameData.achievements.push({
                    id: achievements[j].id,
                    unlocked: achievements[j].unlocked
                });
            }
            
            localStorage.setItem('pancakeClickerSave', JSON.stringify(gameData));
            localStorage.setItem('pancakeClickerLastPlayTime', Date.now().toString());
            
            lastSaveTime = Date.now();
            updateSaveTime();
            
            if (showNotification && !settings.autosave) {
                showNotification('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!', '–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –±—ã–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω.');
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
        function loadGame() {
            var savedData = localStorage.getItem('pancakeClickerSave');
            if (savedData) {
                try {
                    var gameData = JSON.parse(savedData);
                    
                    pancakes = gameData.pancakes || 0;
                    pps = gameData.pps || 0;
                    totalPancakes = gameData.totalPancakes || 0;
                    totalClicks = gameData.totalClicks || 0;
                    prestigeLevel = gameData.prestigeLevel || 0;
                    prestigeMultiplier = gameData.prestigeMultiplier || 1;
                    lastSaveTime = gameData.lastSaveTime || null;
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
                    if (gameData.upgrades) {
                        for (var i = 0; i < gameData.upgrades.length; i++) {
                            var savedUpgrade = gameData.upgrades[i];
                            for (var j = 0; j < upgrades.length; j++) {
                                if (upgrades[j].id === savedUpgrade.id) {
                                    upgrades[j].level = savedUpgrade.level || 0;
                                    upgrades[j].cost = savedUpgrade.cost || upgrades[j].baseCost;
                                    upgrades[j].currentPps = savedUpgrade.currentPps || 0;
                                    break;
                                }
                            }
                        }
                    }
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
                    if (gameData.achievements) {
                        for (var k = 0; k < gameData.achievements.length; k++) {
                            var savedAchievement = gameData.achievements[k];
                            for (var l = 0; l < achievements.length; l++) {
                                if (achievements[l].id === savedAchievement.id) {
                                    achievements[l].unlocked = savedAchievement.unlocked || false;
                                    break;
                                }
                            }
                        }
                    }
                    
                    // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
                    if (gameData.settings) {
                        for (var key in gameData.settings) {
                            if (gameData.settings.hasOwnProperty(key)) {
                                settings[key] = gameData.settings[key];
                            }
                        }
                    }
                    
                    updateSaveTime();
                    showNotification('–ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!', '–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –±—ã–ª –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
                }
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        function updateSaveTime() {
            var saveTimeElement = document.getElementById('save-time');
            if (lastSaveTime) {
                var saveDate = new Date(lastSaveTime);
                var now = new Date();
                var diffMs = now - saveDate;
                
                var timeString = saveDate.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                var dateString = saveDate.toLocaleDateString('ru-RU');
                
                if (diffMs < 60000) {
                    saveTimeElement.textContent = '–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: —Ç–æ–ª—å–∫–æ —á—Ç–æ';
                } else if (diffMs < 3600000) {
                    var minutes = Math.floor(diffMs / 60000);
                    saveTimeElement.textContent = '–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: ' + minutes + ' –º–∏–Ω –Ω–∞–∑–∞–¥';
                } else if (diffMs < 86400000) {
                    saveTimeElement.textContent = '–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: —Å–µ–≥–æ–¥–Ω—è –≤ ' + timeString;
                } else {
                    saveTimeElement.textContent = '–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: ' + dateString + ' –≤ ' + timeString;
                }
            } else {
                saveTimeElement.textContent = '–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: –Ω–∏–∫–æ–≥–¥–∞';
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function loadSettings() {
            var savedSettings = localStorage.getItem('pancakeClickerSettings');
            if (savedSettings) {
                try {
                    var parsedSettings = JSON.parse(savedSettings);
                    for (var key in parsedSettings) {
                        if (parsedSettings.hasOwnProperty(key)) {
                            settings[key] = parsedSettings[key];
                        }
                    }
                    applySettings();
                    updateSettingsUI();
                    return true;
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫:', e);
                }
            }
            return false;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function saveSettings() {
            localStorage.setItem('pancakeClickerSettings', JSON.stringify(settings));
        }
        
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function applySettings() {
            // –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
            if (settings.darkMode) {
                document.body.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
            }
            
            // –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
            var size;
            switch (settings.fontSize) {
                case 'small': size = '14px'; break;
                case 'large': size = '18px'; break;
                default: size = '16px';
            }
            document.body.style.fontSize = size;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function updateSettingsUI() {
            document.getElementById('autosave-toggle').checked = settings.autosave;
            document.getElementById('click-effects-toggle').checked = settings.clickEffects;
            document.getElementById('animations-toggle').checked = settings.animations;
            document.getElementById('dark-mode-toggle').checked = settings.darkMode;
            document.getElementById('font-size-select').value = settings.fontSize;
        }
        
        // –≠—Ñ—Ñ–µ–∫—Ç –∫–ª–∏–∫–∞
        function createClickEffect(x, y) {
            if (!settings.clickEffects) return;
            
            var effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.textContent = '+' + formatNumber(1 * prestigeMultiplier);
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            
            document.body.appendChild(effect);
            
            setTimeout(function() {
                effect.remove();
            }, 1000);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            initGame();
            
            // –ö–ª–∏–∫ –ø–æ –±–ª–∏–Ω—á–∏–∫—É
            clicker.addEventListener('click', function(e) {
                var clickPower = 1 * prestigeMultiplier;
                pancakes += clickPower;
                totalPancakes += clickPower;
                totalClicks++;
                
                createClickEffect(e.clientX, e.clientY);
                updatePancakeDisplay();
                checkAchievements();
            });
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
            var tabs = document.querySelectorAll('.tab');
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].addEventListener('click', function() {
                    var allTabs = document.querySelectorAll('.tab');
                    for (var j = 0; j < allTabs.length; j++) {
                        allTabs[j].classList.remove('active');
                    }
                    var allContents = document.querySelectorAll('.tab-content');
                    for (var k = 0; k < allContents.length; k++) {
                        allContents[k].classList.remove('active');
                    }
                    
                    this.classList.add('active');
                    document.getElementById(this.getAttribute('data-tab') + '-tab').classList.add('active');
                });
            }
            
            // –ö–Ω–æ–ø–∫–∞ –ø—Ä–µ—Å—Ç–∏–∂–∞
            prestigeButton.addEventListener('click', prestige);
            
            // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            document.getElementById('save').addEventListener('click', function() {
                saveGame(true);
            });
            
            // –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞
            document.getElementById('reset').addEventListener('click', function() {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å? –≠—Ç–æ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                    localStorage.removeItem('pancakeClickerSave');
                    localStorage.removeItem('pancakeClickerSettings');
                    localStorage.removeItem('pancakeClickerLastPlayTime');
                    location.reload();
                }
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            document.getElementById('settings-button').addEventListener('click', function() {
                document.getElementById('settings-panel').classList.add('open');
            });
            
            document.getElementById('close-settings').addEventListener('click', function() {
                document.getElementById('settings-panel').classList.remove('open');
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
            document.getElementById('autosave-toggle').addEventListener('change', function(e) {
                settings.autosave = e.target.checked;
                saveSettings();
            });
            
            document.getElementById('click-effects-toggle').addEventListener('change', function(e) {
                settings.clickEffects = e.target.checked;
                saveSettings();
            });
            
            document.getElementById('animations-toggle').addEventListener('change', function(e) {
                settings.animations = e.target.checked;
                saveSettings();
            });
            
            document.getElementById('dark-mode-toggle').addEventListener('change', function(e) {
                settings.darkMode = e.target.checked;
                applySettings();
                saveSettings();
            });
            
            document.getElementById('font-size-select').addEventListener('change', function(e) {
                settings.fontSize = e.target.value;
                applySettings();
                saveSettings();
            });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
            window.addEventListener('beforeunload', function() {
                if (settings.autosave) saveGame(false);
            });
        });
    </script>
</body>
</html>
